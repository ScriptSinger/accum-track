# Общее описание проекта

Проект на Laravel должен **автоматически собирать цены с сайтов магазинов, сохранять их в базе и предоставлять удобный интерфейс** (API и веб-приложение) для просмотра динамики цен и поиска товаров.

## Архитектура и процесс работы

### 1. Сбор данных (Scraping)

-   Используем **парсеры** (на основе **Goutte**) для получения цен с сайтов.
-   Парсинг выполняется **в фоновом режиме через очереди RabbitMQ**.
-   Регулярность обновления данных:
    -   Раз в **X** часов (настраивается через Laravel Schedule).
    -   Поддержка event-driven обработки (RabbitMQ, Redis Queue).

### 2. Обработка и хранение данных

#### Где храним данные?

-   **MySQL** — основная база для товаров, магазинов и цен.
-   **Redis** — кеширование данных для ускорения API.
-   **Elasticsearch** — быстрый поиск по товарам, категориям и ценам.

#### Формат хранения цен

-   Каждая новая цена записывается **отдельной записью с временной меткой**, что позволяет отслеживать динамику.

Пример таблицы `prices`:

| id  | product_id | shop_id | price | created_at          |
| --- | ---------- | ------- | ----- | ------------------- |
| 1   | 123        | 1       | 49990 | 2025-02-24 10:00:00 |
| 2   | 123        | 2       | 50500 | 2025-02-24 10:00:00 |
| 3   | 123        | 1       | 48990 | 2025-02-25 10:00:00 |

---

### 3. API и функционал

#### Доступные возможности API

-   Поиск товаров по названию.
-   Просмотр динамики цен.
-   Сравнение цен между магазинами.
-   Настройка уведомлений о снижении цены.
-   Категоризация товаров.

#### Примеры API-запросов

-   `GET /api/products?search=varta` → Поиск товаров.
-   `GET /api/products/{id}/prices` → История цен.
-   `POST /api/alerts` → Подписка на уведомления.

---

### 4. Фронтенд (Dashboard)

#### Основные страницы

-   **Главная** — поиск товаров.
-   **Страница товара** — динамика цен, список магазинов.
-   **Раздел уведомлений**.
-   **Категории товаров**.

#### Технологии

-   **Vue.js или React.js** для интерфейса.
-   **TailwindCSS / Vuetify / Ant Design** для стилизации.
-   **Chart.js / Recharts** для графиков.

---

### 5. Деплой и CI/CD

-   **Docker** — контейнеризация сервиса.
-   **Kubernetes** — автоматическое масштабирование.
-   **GitHub Actions/GitLab CI** — автоматический деплой.

---

## Дополнительные возможности

-   **Кабинет пользователя** — личные подписки на товары.
-   **AI-анализ цен** — прогнозирование изменений.
-   **Telegram-бот** — уведомления о скидках.
-   **Расширение для браузера** — сравнение цен на сайте магазина.

---

## Результат

Готовый сервис для анализа цен аккумуляторов с возможностью масштабирования и монетизации.
